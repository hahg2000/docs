<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原生JS(上) | hahg的简易博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/docs/assets/img/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <link rel="apple-touch-icon" href="/docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="hahg的简易博客">
    <meta name="author" content="vuepress搭建的hahg简易博客">
    <meta name="keywords" content="hahg">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.a4afb5bf.css" as="style"><link rel="preload" href="/docs/assets/js/app.4e37dad2.js" as="script"><link rel="preload" href="/docs/assets/js/3.055be0a8.js" as="script"><link rel="preload" href="/docs/assets/js/2.d32c4d1a.js" as="script"><link rel="preload" href="/docs/assets/js/32.df541b37.js" as="script"><link rel="preload" href="/docs/assets/js/4.a96d5034.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.2fb46730.js"><link rel="prefetch" href="/docs/assets/js/11.975c71ee.js"><link rel="prefetch" href="/docs/assets/js/12.059ae769.js"><link rel="prefetch" href="/docs/assets/js/13.649c1695.js"><link rel="prefetch" href="/docs/assets/js/14.6a8737fd.js"><link rel="prefetch" href="/docs/assets/js/15.0b8de0f8.js"><link rel="prefetch" href="/docs/assets/js/16.4410d102.js"><link rel="prefetch" href="/docs/assets/js/17.21542b2a.js"><link rel="prefetch" href="/docs/assets/js/18.9c6b6334.js"><link rel="prefetch" href="/docs/assets/js/19.3805f0fd.js"><link rel="prefetch" href="/docs/assets/js/20.e676d273.js"><link rel="prefetch" href="/docs/assets/js/21.fbdf7495.js"><link rel="prefetch" href="/docs/assets/js/22.9570e257.js"><link rel="prefetch" href="/docs/assets/js/23.4be7db77.js"><link rel="prefetch" href="/docs/assets/js/24.e5dd610a.js"><link rel="prefetch" href="/docs/assets/js/25.b87936e6.js"><link rel="prefetch" href="/docs/assets/js/26.9478d521.js"><link rel="prefetch" href="/docs/assets/js/27.8fb3b881.js"><link rel="prefetch" href="/docs/assets/js/28.70255cc2.js"><link rel="prefetch" href="/docs/assets/js/29.882947a3.js"><link rel="prefetch" href="/docs/assets/js/30.7ae5904c.js"><link rel="prefetch" href="/docs/assets/js/31.4b49afd0.js"><link rel="prefetch" href="/docs/assets/js/33.ddaed3de.js"><link rel="prefetch" href="/docs/assets/js/34.5e80203b.js"><link rel="prefetch" href="/docs/assets/js/35.0be63530.js"><link rel="prefetch" href="/docs/assets/js/36.8273634e.js"><link rel="prefetch" href="/docs/assets/js/37.37c9b278.js"><link rel="prefetch" href="/docs/assets/js/38.a9fcef0a.js"><link rel="prefetch" href="/docs/assets/js/5.79d58c64.js"><link rel="prefetch" href="/docs/assets/js/6.dc517ec6.js"><link rel="prefetch" href="/docs/assets/js/7.4ea12e98.js"><link rel="prefetch" href="/docs/assets/js/8.9bc20865.js"><link rel="prefetch" href="/docs/assets/js/9.366e5dea.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.a4afb5bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="hahg的简易博客" class="logo"> <span class="site-name can-hide">hahg的简易博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/docs/tags/" class="nav-link">
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践学习" class="dropdown-title"><span class="title">实践学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践学习" class="mobile-dropdown-title"><span class="title">实践学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SSM框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SSM前言/一、SSM框架前言-系统架构.html" class="nav-link">
  SSM前言
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/MyBatis3/一、MyBatis入门.html" class="nav-link">
  MyBatis3
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/Spring4/一、Spring概述.html" class="nav-link">
  Spring4
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SpringMVC/一、SpringMVC概述.html" class="nav-link">
  SpringMVC
</a></li></ul></li><li class="dropdown-item"><h4>
          前端JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/前端JS/原生JS.html" class="nav-link">
  原生JS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习工具" class="dropdown-title"><span class="title">学习工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习工具" class="mobile-dropdown-title"><span class="title">学习工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Markdown/Markdown常用指令.html" class="nav-link">
  Markdown笔记
</a></li><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Vim/Vim.html" class="nav-link">
  Vim笔记
</a></li></ul></div></div><div class="nav-item"><a href="/docs/about/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/docs/tags/" class="nav-link">
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践学习" class="dropdown-title"><span class="title">实践学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践学习" class="mobile-dropdown-title"><span class="title">实践学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SSM框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SSM前言/一、SSM框架前言-系统架构.html" class="nav-link">
  SSM前言
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/MyBatis3/一、MyBatis入门.html" class="nav-link">
  MyBatis3
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/Spring4/一、Spring概述.html" class="nav-link">
  Spring4
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SpringMVC/一、SpringMVC概述.html" class="nav-link">
  SpringMVC
</a></li></ul></li><li class="dropdown-item"><h4>
          前端JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/前端JS/原生JS.html" class="nav-link">
  原生JS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习工具" class="dropdown-title"><span class="title">学习工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习工具" class="mobile-dropdown-title"><span class="title">学习工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Markdown/Markdown常用指令.html" class="nav-link">
  Markdown笔记
</a></li><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Vim/Vim.html" class="nav-link">
  Vim笔记
</a></li></ul></div></div><div class="nav-item"><a href="/docs/about/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/doStudy/前端JS/原生JS(上).html" class="active sidebar-link">原生JS(上)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#一、-变量作用域" class="sidebar-link">一、 变量作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_1-1-全局变量和局部变量" class="sidebar-link">1.1 全局变量和局部变量</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_1-2-块级作用域" class="sidebar-link">1.2 块级作用域</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_1-3-作用域链" class="sidebar-link">1.3 作用域链</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_1-4-变量和函数提升" class="sidebar-link">1.4 变量和函数提升</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#二、对象" class="sidebar-link">二、对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-1-对象的属性" class="sidebar-link">2.1 对象的属性</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-2-对象的创建" class="sidebar-link">2.2 对象的创建</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-3-对象的遍历" class="sidebar-link">2.3 对象的遍历</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-4-对象的原型" class="sidebar-link">2.4 对象的原型</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-5-内置对象" class="sidebar-link">2.5 内置对象</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_2-6-包装类" class="sidebar-link">2.6 包装类</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#三、数组" class="sidebar-link">三、数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-1-数组的类型" class="sidebar-link">3.1 数组的类型</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-2-数组的创建" class="sidebar-link">3.2 数组的创建</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-3-数组的访问" class="sidebar-link">3.3 数组的访问</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-4-数组的长度" class="sidebar-link">3.4 数组的长度</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-5-数组的参数" class="sidebar-link">3.5 数组的参数</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-6-数组的遍历" class="sidebar-link">3.6 数组的遍历</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/前端JS/原生JS(上).html#_3-6-数组的其他方法" class="sidebar-link">3.6 数组的其他方法</a></li></ul></li></ul></li><li><a href="/docs/doStudy/前端JS/原生JS(中).html" class="sidebar-link">原生JS(中)</a></li></ul></section></li></ul> </aside> <main class="page"> <!----> <div class="content__default"><h1 id="原生js-上"><a href="#原生js-上" class="header-anchor">#</a> 原生JS(上)</h1> <p><span style="color:red;">下面的笔记均是 ES5 之前的版本。</span></p> <p>参考网站：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript" target="_blank" rel="noopener noreferrer">MDN Web Docs——Javascript教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="一、-变量作用域"><a href="#一、-变量作用域" class="header-anchor">#</a> 一、 变量作用域</h2> <h3 id="_1-1-全局变量和局部变量"><a href="#_1-1-全局变量和局部变量" class="header-anchor">#</a> 1.1 全局变量和局部变量</h3> <p>全局变量声明有两种方法，一是直接在 &lt;script&gt; 标签内直接定义的变量，二是在函数里不带 var 声明的变量。</p> <p>局部变量 <strong>在函数里声明的变量</strong>，在函数外部无法使用它。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 全局变量</span>
<span class="token comment">// 1.在&lt;script&gt;标签内直接定义的变量</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">// 2.在函数里不带 var 声明的变量</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token comment">// 局部变量</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 执行函数</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_1-2-块级作用域"><a href="#_1-2-块级作用域" class="header-anchor">#</a> 1.2 块级作用域</h3> <p><strong>JS 无块级作用域</strong>，只有在 ES6 时，JS 才有块级作用域。</p> <p>块级作用域是在 java 程序中的 <code>if { }</code> 和 <code>for { }</code> 大括号的区域。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_1-3-作用域链"><a href="#_1-3-作用域链" class="header-anchor">#</a> 1.3 作用域链</h3> <p>在 JS 函数里面可以定义新的函数，包含新函数的函数被称为 <strong>外部函数</strong>，新函数被称为 <strong>内部函数</strong>。</p> <p>内部函数可以访问外部函数和全局变量。</p> <p>若外部函数和全局变量的变量名一致，则会采取链式查找的方式，即就近原则。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 输出 20</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 调用内部函数</span>
    <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 调用外部函数</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_1-4-变量和函数提升"><a href="#_1-4-变量和函数提升" class="header-anchor">#</a> 1.4 变量和函数提升</h3> <ol><li><p>JS 引擎在运行 Javascript 会分为两步：<strong>预解析</strong> 和 <strong>代码执行</strong></p> <p>（1）预解析：JS 引擎会把 js 里面所有的 var 还有 function 提升到 <strong>当前作用域的最前面</strong>。</p> <p>（2）代码执行：按照代码书写的顺序从上到下执行。</p></li> <li><p>预解析分为 <strong>变量预解析（变量提升）</strong> 和 <strong>函数预解析（函数提升）</strong></p> <p>（1）变量预解析：将所有变量声明提升到当前作用域的最前面，<strong>不进行赋值操作</strong>。</p> <p>（1）函数预解析：将所有函数声明提升到当前作用域的最前面，<strong>不进行执行函数</strong>。</p></li></ol> <p>踩坑1：函数表达式没有提升，不像函数声明，你在 <strong>定义函数表达式之前不能使用函数表达式</strong>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 报错 a is not a function</span>
<span class="token keyword">var</span> <span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>踩坑2：变量连等赋值，<strong>除了第一个为局部变量，其余的为全部变量</strong>。</p> <p>而集体声明为 var a = xxx，b = ooo , c = jjj ;</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 a 未被定义 </span>

<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> b <span class="token operator">=</span> c <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// var a = 2 ; b = 2 ; c = 2 </span>
    <span class="token comment">// 集体声明为: var a = 2 , b = 2 , c = 2 ;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>踩坑3：全局变量不使用 var 声明时，<strong>不进行提升</strong>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 b is not defined</span>
    b <span class="token operator">=</span>  <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>踩坑4：全局变量实质上是 window 的一个 <strong>属性</strong>，可以使用 window.变量名来修改。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>踩坑5：不适用 var 声明的全部变量是 <strong>可以删除</strong> 的，而使用 var 变量则不可以。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 0</span>

b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 b is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>而判断一个对象的 属性描述是否可以<strong>被改变</strong> 或者 属性是否可<strong>被删除</strong>，可以按照以下步骤。</p> <ol><li>使用 <code>Object.getOwnPropertyDescriptor(obj, prop)</code> 方法获取到 <strong>属性描述符对象</strong>（property descriptor）。</li> <li>而属性描述符对象里面有一个属性 <strong>configurable</strong>。【<strong>configurable</strong>】 当且仅当指定对象的属性描述可以 <strong>被改变</strong>或者属性 <strong>可被删除</strong> 时，为true。</li> <li>当然函数也不能被删除。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 获取变量 a 的属性描述符对象 </span>
<span class="token keyword">var</span> descriptor1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出其 configurable 属性</span>
<span class="token keyword">var</span> aConfigurable <span class="token operator">=</span> descriptor1<span class="token punctuation">.</span>configurable<span class="token punctuation">;</span>
<span class="token comment">// false 代表不能删除</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>aConfigurable<span class="token punctuation">)</span><span class="token punctuation">;</span>

b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> descriptor2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bConfigurable <span class="token operator">=</span> descriptor2<span class="token punctuation">.</span>configurable<span class="token punctuation">;</span>
<span class="token comment">// true 代表可以删除</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>bConfigurable<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="二、对象"><a href="#二、对象" class="header-anchor">#</a> 二、对象</h2> <h3 id="_2-1-对象的属性"><a href="#_2-1-对象的属性" class="header-anchor">#</a> 2.1 对象的属性</h3> <p>在 Javascript 中， 属性由一个字符串类型的 <strong>“ 名字 ”</strong>（name）和一个 <strong>“ 属性描述符 ”</strong>（property descriptor）对象构成。</p> <hr> <p>而使用 Object.defineProperty() 方法会直接在一个对象上 <strong>定义一个新属性</strong>，或者 <strong>修改一个对象的现有属性</strong>，并返回此对象。</p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p><code>Object.defineProperty(obj, prop, descriptor)</code></p></div> <ul><li>obj：要定义属性的对象。</li> <li>prop：要定义或修改的属性的名称或 Symbol 。</li> <li>descriptor：要定义或修改的属性描述符。</li></ul> <hr> <p><strong>属性描述符</strong>：</p> <p>对象里目前存在的属性描述符有两种主要形式：<strong>数据描述符</strong> 和 <strong>存取描述符</strong>。</p> <ul><li><p><strong>数据描述符</strong> 是一个具有值的属性，该值可以是可写的，也可以是不可写的。</p></li> <li><p><strong>存取描述符</strong> 是由 getter 函数和 setter 函数所描述的属性。</p></li></ul> <p><span style="color:red;">一个描述符只能是这两者其中之一；不能同时是两者。</span></p> <p>下面的表格列出了两种属性描述符对象可以拥有的属性。</p> <table><thead><tr><th></th> <th>configurable</th> <th>enumerable</th> <th>value</th> <th>writable</th> <th>get</th> <th>set</th></tr></thead> <tbody><tr><td>数据描述符</td> <td><span style="color:green;">可以</span></td> <td><span style="color:green;">可以</span></td> <td><span style="color:green;">可以</span></td> <td><span style="color:green;">可以</span></td> <td><span style="color:red;">不可以</span></td> <td><span style="color:red;">不可以</span></td></tr> <tr><td>存取描述符</td> <td><span style="color:green;">可以</span></td> <td><span style="color:green;">可以</span></td> <td><span style="color:red;">不可以</span></td> <td><span style="color:red;">不可以</span></td> <td><span style="color:green;">可以</span></td> <td><span style="color:green;">可以</span></td></tr></tbody></table> <hr> <p>这两种描述符都是对象。它们共享以下可选键值：</p> <ul><li>configurable：
当且仅当该属性的 configurable 键值为 true 时，该属性的描述符才能够被改变，同时该属性也能从对应的对象上被删除。
默认为 false。</li> <li>enumerable：
当且仅当该属性的 enumerable 键值为 true 时，该属性才会出现在对象的枚举属性中。
默认为 false。
数据描述符还具有以下可选键值：</li> <li>value：
该属性对应的值。可以是任何有效的 JavaScript 值（数值，对象，函数等）。
默认为 undefined。</li> <li>writable
当且仅当该属性的 writable 键值为 true 时，属性的值，也就是上面的 value，才能被赋值运算符改变。
默认为 false。</li></ul> <hr> <p>存取描述符还具有以下可选键值：</p> <ul><li>get
属性的 getter 函数，如果没有 getter，则为 undefined。当访问该属性时，会调用此函数。执行时不传入任何参数，但是会传入 this 对象（由于继承关系，这里的this并不一定是定义该属性的对象）。该函数的返回值会被用作属性的值。
默认为 undefined。</li> <li>set
属性的 setter 函数，如果没有 setter，则为 undefined。当属性值被修改时，会调用此函数。该方法接受一个参数（也就是被赋予的新值），会传入赋值时的 this 对象。
默认为 undefined。</li></ul> <hr> <p><strong>描述符默认值汇总：</strong>
拥有布尔值的键 configurable、enumerable 和 writable 的默认值都是 false。
属性值和函数的键 value、get 和 set 字段的默认值为 undefined。</p> <hr> <p>下面来详细说明每一个属性：</p> <h4 id="_1-configurable-属性"><a href="#_1-configurable-属性" class="header-anchor">#</a> （1）Configurable 属性</h4> <p><code>configurable</code> 特性表示对象的属性是否可以 <strong>被删除</strong>，以及除 <code>value</code> 和 <code>writable</code> 特性外的其他特性是否可以<strong>被修改</strong>。</p> <h3 id="_2-2-对象的创建"><a href="#_2-2-对象的创建" class="header-anchor">#</a> 2.2 对象的创建</h3> <p>对象的创建有三种方式，<strong>对象字面</strong>、<strong>new Object()</strong>、<strong>构建函数</strong>。</p> <h4 id="_1-利用对象字面量创建"><a href="#_1-利用对象字面量创建" class="header-anchor">#</a> （1）利用对象字面量创建</h4> <p>注意每一个属性之间使用逗号【,】隔开。saySong 也是个属性，只不过它的值是一个方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name <span class="token operator">:</span> <span class="token string">'周杰伦'</span><span class="token punctuation">,</span>
    age <span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">saySong</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>调用对象的属性：</p> <ol><li>若属性的值不是方法则可以采用：<code>对象名.属性名</code> 和 <code>对象名['属性名']</code></li> <li>若属性的值是一个方法则可以采用：<code>对象名.属性名()</code></li></ol> <h4 id="_2-使用-new-object-创建"><a href="#_2-使用-new-object-创建" class="header-anchor">#</a> （2）使用 new Object() 创建</h4> <p>就像 Java 那样 new 一个对象出来，然后采用 <code>对象名.属性名 = 属性值</code> 方式来创建对象的属性。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'周杰伦'</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱稻香'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-使用构建函数"><a href="#_3-使用构建函数" class="header-anchor">#</a> （3）使用构建函数</h4> <p>就像 Java 里的类中的构建方法一样，构建方法利用传进来的值来初始化对象。</p> <p>在利用构建函数创建对象时，也可以 <strong>传递方法</strong> 作为属性的值，就像第（2）点一样。调用方法一致。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> work</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>work <span class="token operator">=</span>  work<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> star1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱'</span><span class="token operator">+</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-3-对象的遍历"><a href="#_2-3-对象的遍历" class="header-anchor">#</a> 2.3 对象的遍历</h3> <p>对象的遍历使用的是 for in 循环，循环里的 key 变量为对象的属性的 key；只有进行取值操作，才能获取到属性的 value。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个对象</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    name <span class="token operator">:</span> <span class="token string">'周杰伦'</span><span class="token punctuation">,</span>
    age <span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">saySong</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱歌'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 对象的遍历输出</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对象的属性的 key</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对象的属性的 value</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-4-对象的原型"><a href="#_2-4-对象的原型" class="header-anchor">#</a> 2.4 对象的原型</h3> <h4 id="_1-引入"><a href="#_1-引入" class="header-anchor">#</a> （1）引入</h4> <p>首先定义了一个构造函数，并使用其实例化一个对象，再进行输出。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱'</span><span class="token operator">+</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> zjl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zjl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>结果如下图，发现有个对象有个 <code>__proto__</code> 属性，</p> <p><img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA.png" alt=""></p> <p>点开来看，发现其里面有两个子属性，下面对这两个属性进行说明。</p> <p><img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/%E5%AF%B9%E8%B1%A1%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA%E8%AF%A6%E6%83%85.png" alt=""></p> <h4 id="_2-constructor说明"><a href="#_2-constructor说明" class="header-anchor">#</a> （2）constructor说明</h4> <p><code>Object.prototype.constructor</code> ：返回的创建实例对象的 Object <strong>构造函数</strong>的引用，即创建该对象的构造函数。</p> <h4 id="_3-proto-说明"><a href="#_3-proto-说明" class="header-anchor">#</a> （3）__proto__ 说明</h4> <p>每一个构造函数都有一个 <strong>原型对象</strong> ，每一个被其构造函数实例化都可以访问 <strong>原型对象</strong> 里的内容。</p> <p>举例：使用 <code>函数名.prototype.属性名 = 属性名</code> 来将属性存入到原型对象里，访问时直接像调用自己属性一样 <code>对象名.属性名</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱'</span><span class="token operator">+</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cyx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'陈奕迅'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cyx<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// 输出'男'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>这里的 <strong>原型对象</strong> 有点像 Java 里的 <strong>父类</strong>，而众所周知任何的类的父类都是 Object ，所以在第（1）节中的最后一张图中的 <strong>原型对象</strong> 里又有一个 <strong>原型对象</strong>，那就是 Object 对象。</p> <p><img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/%E5%AF%B9%E8%B1%A1%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA%E8%AF%A6%E6%83%85.png" alt=""></p> <h4 id="_4-常见原型的使用方法"><a href="#_4-常见原型的使用方法" class="header-anchor">#</a> （4）常见原型的使用方法</h4> <p><strong>函数1：</strong> <code>Object.getPrototypeOf()</code></p> <p><code>Object.getPrototypeOf()</code> 方法返回指定对象的 <strong>原型对象</strong>（内部<code>[[Prototype]]</code>属性的值）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱'</span><span class="token operator">+</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> zjl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>zjl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>输出结果如下：</p> <p><img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/getPrototypeOf%E8%BE%93%E5%87%BA.png" alt=""></p> <p>有人会问直接 <code>Object.__proto__</code> 不就行了吗？</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>其实该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>但需要注意的是 Object.getPrototypeOf(Object) 不是 Object.prototype</p></div> <p>下面来说明一下这两个的区别：</p> <p>根据上面的例子可知 <code>Object.getPrototypeOf( 自定义对象 )</code> 是获取 <strong>自定义对象</strong> 的原型对象。</p> <p>如果里面放的是 <strong>构造函数</strong> 的呢？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span> Object <span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// ƒ () { [native code] }</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span> Function <span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// ƒ () { [native code] }</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span> Star <span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// ƒ () { [native code] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Star<span class="token punctuation">)</span> <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Object<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Object<span class="token punctuation">)</span> <span class="token operator">===</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Function<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Object<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr> <p>很奇怪，第 4 ~ 5 行，三个不同的构造函数输出的是 <strong>一模一样的函数代码块</strong>。</p> <p>再看第 7 行，有点难懂。其实就是 Object 的构造函数也是一个对象，即上面输出的 <strong>函数代码块</strong>，</p> <p>而这个对象的 <strong>原型对象</strong> 是 <strong>Function 对象</strong>。具体的下图所示。</p> <p>总的来说，就是 <code>Object.getPrototypeOf(实例化的对象)</code> 与 <code>构造函数对象.prototype</code> 的区别</p> <img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/getPrototypeof%E5%9B%BE%E8%A7%A3.png" style="zoom:67%;"> <hr> <p><strong>函数2：</strong> <code>Function.prototype.call()</code></p> <p><code>call()</code>  方法使用一个指定的  <code>this</code>  值和单独给出的一个或多个参数来 <strong>调用一个函数</strong>。</p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p><code>function.call(thisArg, arg1, arg2, ...)</code></p></div> <p><strong>参数：</strong></p> <ul><li><p><code>thisArg</code></p> <p>可选的。在  <code>function</code> 函数运行时使用的 <code>this</code> 值。请注意，<code>this</code>可能不是该方法看到的实际值：如果这个函数处于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode" target="_blank" rel="noopener noreferrer">非严格模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下，则指定为 <code>null</code> 或 <code>undefined</code> 时会自动替换为指向全局对象，原始值会被包装。</p></li> <li><p><code>arg1, arg2, ...</code></p> <p>指定的参数列表。</p></li></ul> <p><strong>描述：</strong><code>call()</code> 提供新的 <strong>this</strong> 值给当前调用的函数/方法。你可以使用 <code>call()</code> 来实现继承：写一个方法，然后让另外一个新的对象来继承它（而不是在新对象中再写一次这个方法）。</p> <p><strong>示例 2.1</strong> ：使用 call 方法调用父构造函数</p> <p>在一个 <strong>子构造函数</strong> 中，你可以通过调用 <strong>父构造函数</strong> 的 <code>call</code> 方法来 <strong>实现继承</strong>，类似于 <code>Java</code> 中的写法。</p> <p>下例中，使用 <code>Food</code> 和 <code>Toy</code> 构造函数创建的 <strong>实例</strong> 都会拥有 <code>Product</code> 构造函数里的 <code>name</code> 属性和 <code>price</code> 属性,但 <code>category</code> 属性是在各自的构造函数中定义的。</p> <p>换个角度来看，其实就是使用不同的 <code>this</code> 来调用相同的函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 父构造函数</span>
<span class="token keyword">function</span> <span class="token function">Product</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子构造函数</span>
<span class="token keyword">function</span> <span class="token function">Food</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Product</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>category <span class="token operator">=</span> <span class="token string">'food'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子构造函数</span>
<span class="token keyword">function</span> <span class="token function">Toy</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> price</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Product</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>category <span class="token operator">=</span> <span class="token string">'toy'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 创建对象</span>
<span class="token keyword">var</span> cheese <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Food</span><span class="token punctuation">(</span><span class="token string">'feta'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Toy</span><span class="token punctuation">(</span><span class="token string">'robot'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输出对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cheese<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>输出结果如下：</p> <img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/call%E5%87%BD%E6%95%B0%E8%BE%93%E5%87%BA.png" style="zoom:90%;"> <hr> <p><strong>示例2.2：</strong> 使用 call 方法调用匿名函数
在下例中的 for 循环体内，我们创建了一个匿名函数，然后通过调用该函数的 call 方法，将 <strong>每个数组元素</strong> 作为指定的 this 值执行了那个匿名函数。</p> <p>这个匿名函数的主要目的是 <u>给每个数组元素对象添加一个 print 方法</u>，这个 print 方法可以打印出各元素在数组中的正确索引号。</p> <p>当然，这里不是必须得让数组元素作为 this 值传入那个匿名函数（普通参数就可以），目的是为了演示 call 的用法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token keyword">var</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span> species<span class="token operator">:</span> <span class="token string">'Lion'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'King'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span> species<span class="token operator">:</span> <span class="token string">'Whale'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Fail'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span> species<span class="token operator">:</span> <span class="token string">'Person'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">}</span>
 <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> animals<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 匿名函数，这里的形参 i 是call方法的第二个参数，即循环的体里递增的 i</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里的 this 为数据里的每一个对象</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">print</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'#'</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>species
                        <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 调用定义好的函数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>animals<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>示例2.3</strong> ：在下面的例子中，我们调用了 <code>display</code> 方法，但并没有传递它的第一个参数。如果没有传递第一个参数，<code>this</code> 的值将会被绑定为 <strong>全局对象</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 全局对象</span>
<span class="token keyword">var</span> sData <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用了全局对象</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sData value is %s '</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 不传递第一个参数调用 display 方法</span>
<span class="token function">display</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出结果为 sData value is Hello World</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>函数3：</strong> <code>Function.prototype.apply()</code></p> <p>说了 call 函数，那必定需要说一下与 call 函数相近的 apply 函数。</p> <p><code>apply()</code> 方法调用一个具有给定 <code>this</code> 值的函数，以及以一个数组（或[类数组对象]）的形式提供的参数。</p> <p><strong>注意：</strong> call() 方法的作用和 apply() 方法类似，区别就是<code>call()</code>方法接受的是 <strong>参数列表</strong>，而<code>apply()</code>方法接受的是 <strong>一个参数数组</strong>。</p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p><code>func.apply(thisArg, [argsArray])</code></p></div> <p><strong>参数：</strong></p> <ul><li><code>thisArg</code>
**必选的。**在 func 函数运行时使用的 this 值。请注意，this可能不是该方法看到的实际值：如果这个函数处于非严格模式下，则指定为 null 或 undefined 时会自动替换为指向全局对象，原始值会被包装。与 call() 方法一致。</li> <li><code>argsArray</code> <strong>可选的</strong>。<strong>一个数组或者类数组对象</strong>，其中的数组元素将作为单独的参数传给 func 函数。如果该参数的值为 null 或  undefined，则表示不需要传入任何参数。从 ECMAScript 5 开始可以使用类数组对象。</li></ul> <p><strong>示例3.1：</strong> 用 apply 将数组各项添加到另一个数组</p> <p>我们可以使用 push 方法将元素追加到数组中。由于push接受可变数量的参数，所以也可以一次追加多个元素。</p> <p>但是，如果 push 的参数是 <strong>数组</strong>，它会将该数组作为单个元素添加，<u>而不是将这个数组内的每个元素添加进去</u>，因此我们最终会得到 <strong>一个数组内的数组</strong>。</p> <p>如果不想这样呢？concat 符合我们的需求，但<u>它并不是将元素添加到现有数组，而是创建并返回一个新数组</u>。</p> <p>然而我们需要将元素追加到现有数组......那么怎么做好？难道要写一个循环吗？<code>apply</code> 正派上用场！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> elements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> elements<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;a&quot;, &quot;b&quot;, 0, 1, 2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>示例3.2：</strong> 使用 <code>apply</code> 和内置函数</p> <p>对于一些需要写循环以便历数组各项的需求，我们可以用 <code>apply</code> 完成以 <strong>避免循环</strong>。</p> <p>下面是示例，我们将用 <code>Math.max</code> / <code>Math.min</code> 求得数组中的最大/小值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 找出数组中最大/小的数字 </span>
<span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 使用Math.min/Math.max以及apply 函数时的代码 </span>
<span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 基本等同于 Math.max(numbers[0], ...) 或 Math.max(5, 6, ..) */</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'maxNumber = '</span><span class="token operator">+</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 14</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'minNumber = '</span><span class="token operator">+</span> min<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意：如果按上面方式调用<code>apply</code>，有超出JavaScript引擎参数长度上限的风险。</p></div> <p>如果你的参数数组可能非常大，那么推荐使用下面这种混合策略：将数组切块后循环传入目标方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">minOfArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将最小值初始化为无穷大</span>
    <span class="token keyword">var</span> min <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置每块数组的长度为 32768</span>
    <span class="token keyword">var</span> <span class="token constant">QUANTUM</span> <span class="token operator">=</span> <span class="token number">32768</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token constant">QUANTUM</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Math.min(i + QUANTUM, len) 防止数组越界，取遍历的数和数组长度的最小值</span>
        <span class="token comment">// arr.slice 将数组分块，返回分块后的新数组</span>
        <span class="token comment">// 使用 Math.min 取分块后数组的最小值</span>
        <span class="token keyword">var</span> submin <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token constant">QUANTUM</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将当前分块数组的最小值与全局的最小值比较</span>
        min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>submin<span class="token punctuation">,</span> min<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>函数4：</strong> <code>Function.prototype.bind()</code></p> <p><code>bind()</code>  方法 <strong>创建一个新的函数</strong>，在  <code>bind()</code>  被调用时，这个新函数的  <code>this</code>  被指定为  <code>bind()</code>  的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p><code>function.bind(thisArg[, arg1[, arg2[, ...]]])</code></p></div> <p><strong>参数：</strong></p> <ul><li><code>thisArg</code></li></ul> <p>调用绑定函数时作为 <code>this</code> 参数传递给目标函数的值。</p> <p>如果使用 <code>new</code> 运算符构造绑定函数，则忽略该值。</p> <p>当使用 <code>bind</code> 在 <code>setTimeout</code> 中创建一个函数（作为回调提供）时，作为 <code>thisArg</code> 传递的任何原始值都将转换为 <code>object</code> 。</p> <p>如果 <code>bind</code> 函数的参数列表为空，或者 <code>thisArg</code> 是 <code>null</code> 或 <code>undefined</code> ，执行作用域的 <code>this</code> 将被视为新函数的 <code>thisArg</code>。</p> <ul><li><code>arg1, arg2, ...</code></li></ul> <p>当目标函数被调用时，被预置入绑定函数的参数列表中的参数。</p> <p><strong>示例4.1：</strong> 创建绑定函数</p> <p><code>bind()</code> 最简单的用法是创建一个函数，不论怎么调用，这个函数都有同样的 <code>this</code> 值。</p> <p>JavaScript 新手经常犯的一个错误是 <u>将一个方法从对象中拿出来</u>，然后再调用，期望方法中的 <code>this</code> 是原来的对象（比如在回调中传入这个方法）。</p> <p><span style="color:red;">如果不做特殊处理的话，一般会丢失原来的对象。</span>基于这个函数，用原始的对象创建一个绑定函数，巧妙地解决了这个问题：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>    <span class="token comment">// 在浏览器中，this 指向全局的 &quot;window&quot; 对象</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">81</span><span class="token punctuation">,</span>
    <span class="token comment">// 这里的 this 指向 module 对象</span>
    <span class="token function-variable function">getX</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 81</span>

<span class="token comment">// 单独将方法从对象中拿出来</span>
<span class="token keyword">var</span> retrieveX <span class="token operator">=</span> module<span class="token punctuation">.</span>getX<span class="token punctuation">;</span>

<span class="token comment">// 执行方法</span>
<span class="token comment">// 返回 9 - 因为函数是在全局作用域中调用的</span>
<span class="token function">retrieveX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个新函数，把 'this' 绑定到 module 对象</span>
<span class="token comment">// 新手可能会将全局变量 x 与 module 的属性 x 混淆</span>
<span class="token keyword">var</span> boundGetX <span class="token operator">=</span> <span class="token function">retrieveX</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundGetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 81</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>示例4.2：</strong> 偏函数</p> <p><code>bind()</code> 的另一个最简单的用法是使一个函数 <strong>拥有预设的初始参数</strong>。</p> <p>只要将这些参数作为 <code>bind()</code> 的参数写在 <code>this</code> 后面。当绑定函数被调用时，<strong>这些参数会从开始被插入到绑定函数的参数里</strong>，即绑定函数的第一个和之后的参数都会被 <code>bind()</code> 中的参数所代替。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 这里需要两个参数</span>
<span class="token keyword">function</span> <span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arg1 <span class="token operator">+</span> arg2
<span class="token punctuation">}</span>

<span class="token comment">// 创建一个函数，它拥有预设的第一个参数</span>
<span class="token keyword">var</span> addThirtySeven <span class="token operator">=</span> <span class="token function">addArguments</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 37(预设的) + 5 = 42</span>
<span class="token keyword">var</span> result2 <span class="token operator">=</span> <span class="token function">addThirtySeven</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 37(预设的)  + 5 = 42 ，第二个参数被忽略</span>
<span class="token keyword">var</span> result3 <span class="token operator">=</span> <span class="token function">addThirtySeven</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>函数5：</strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener noreferrer">Object.create()<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>Object.create()</code> 方法创建一个新对象，使用现有的对象来提供新创建的对象的 __proto__。</p> <h4 id="_5-判断对象中是否有某个属性"><a href="#_5-判断对象中是否有某个属性" class="header-anchor">#</a> （5）判断对象中是否有某个属性</h4> <p>若要判断对象中是否有某个属性，可以使用 <code>'属性名' in 对象</code>  来判断，但这个 <strong>会去原型链上寻找属性是否存在</strong>。</p> <p>若不想在其在原型链寻找，则需要使用 <code>对象.hasOwnProperty('属性名')</code>  方法。</p> <p>其完整的方法名： <code>Object.prototype.hasOwnProperty()</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">work</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">song</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'唱'</span><span class="token operator">+</span>song<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在原型上定义了一个性别属性</span>
<span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'男'</span><span class="token punctuation">;</span>

<span class="token comment">// 新建了一个对象</span>
<span class="token keyword">var</span> zjl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 判断 sex 属性是否在原型链上</span>
<span class="token comment">// true </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'sex'</span> <span class="token keyword">in</span> zjl<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 判断 sex 属性是否在对象上 </span>
<span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zjl<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'sex'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2-5-内置对象"><a href="#_2-5-内置对象" class="header-anchor">#</a> 2.5 内置对象</h3> <h4 id="_1-date-对象"><a href="#_1-date-对象" class="header-anchor">#</a> （1）Date 对象</h4> <ul><li><code>var d1 = new Date();</code>
使用 <strong>无参</strong> 构造函数创建，会返回当前时间。</li> <li><code>var d2 = new Date(&quot;7/14/2021 11:20:00&quot;);</code>
使用 <strong>时间字符串</strong> 创建，会将字符串封装成 Date 对象。时间字符串的默认格式为：月份/日/年 时/分/秒。</li> <li><code>var d3 = new Date(1626234778638);</code>
使用 <strong>时间戳</strong> 创建，该时间戳代表了 自1970年1月1日00:00:00 UTC（the Unix epoch）以来的毫秒数，忽略了闰秒。</li></ul> <p>Date 对象常见的一些方法举例：</p> <ul><li><code>Date对象.getTime()</code> ：获取到 Date 对象的时间戳。</li> <li><code>Date.now()</code> ：获取到当前时间的时间戳。
相当于 <code>var d4 = new Date();var d4Time = d4.getTime();</code>
可以使用该方法计时程序的运行时间。</li> <li>也可以使用 <code>console.time(&quot;计时器名字&quot;)</code> 与 <code>console.timeEnd(&quot;计时器名字&quot;)</code> 来计时运行时间。</li></ul> <p>Date 对象的方法列表：</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>getDate()</code></td> <td>从 Date 对象返回一个月中的某日份 [1 ~ 31]</td></tr> <tr><td><code>getDay()</code></td> <td>从 Date 对象返回一周中的某星期 <span style="color:red;">[0(周日) ~ 6(周六)]</span></td></tr> <tr><td><code>getMonth()</code></td> <td>从 Date 对象返回月份 <span style="color:red;">[0(一月) ~ 11(十二月)]</span></td></tr> <tr><td><code>getFullYear()</code></td> <td>从 Date 对象以 <span style="color:red;">四位数字</span> 返回年份。</td></tr> <tr><td><code>getHours()</code></td> <td>返回 Date 对象的小时 (0 ~ 23)。</td></tr> <tr><td><code>getMinutes()</code></td> <td>返回 Date 对象的分钟 (0 ~ 59)。</td></tr> <tr><td><code>getSeconds()</code></td> <td>返回 Date 对象的秒数 (0 ~ 59)。</td></tr></tbody></table> <h4 id="_2-math-对象"><a href="#_2-math-对象" class="header-anchor">#</a> （2）Math 对象</h4> <p>Math 对象的方法需要用的话可以直接网上寻找即可，点击下列链接即可。</p> <p><a href="https://www.w3school.com.cn/jsref/jsref_obj_math.asp" target="_blank" rel="noopener noreferrer">JavaScript Math 参考手册 (w3school.com.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>这里介绍一下随机数的用法。</p> <p><code>Math.random()</code> 函数返回一个浮点数,  伪随机数在范围为 [ 0 , 1 ) 。</p> <ul><li>得到两个数 [ x ,  y )  的随机整数
这个例子返回了一个在指定值之间的 <strong>随机整数</strong>。这个值不小于 <code>min</code> ，且小于<code>max</code>。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Math.random * (max-min) 获取到[0,max-min) </span>
<span class="token comment">// Math.floor 取整</span>

<span class="token comment">// Math.floor(Math.random() * (max-min)) + min; </span>
<span class="token comment">// =&gt;  [0,max-min) + min  =&gt;  [min,max) </span>

Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>min<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-6-包装类"><a href="#_2-6-包装类" class="header-anchor">#</a> 2.6 包装类</h3> <p>在 JavaScript 中有几个基本数据类型：String、Number、Boolean、Null、Undefined，一个引用数据类型：Object。</p> <p>JavaScript 提供了三个包装类：String() 、Number() 、Boolean() ，其可以<strong>将基本数据类型转换成对象</strong>。</p> <p>而对象中可以有方法，但基本数据类型没有方法，但依然可以通过 <code>变量名.方法名</code> 调用指定方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 均输出 123 无报错</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>原理：其实在基本类型在调用方法时，浏览器会 <strong>临时</strong> 地使用包装类将其 <strong>转换为对象</strong>，然后再调用对象的方法。</p> <h2 id="三、数组"><a href="#三、数组" class="header-anchor">#</a> 三、数组</h2> <h3 id="_3-1-数组的类型"><a href="#_3-1-数组的类型" class="header-anchor">#</a> 3.1 数组的类型</h3> <p>使用 <code>typeof 数组对象</code> 来判断数组的类型。数组本质上是 Object 对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用构造函数创建数组</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 使用字面量创建数组</span>
arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 输出 Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出 Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-2-数组的创建"><a href="#_3-2-数组的创建" class="header-anchor">#</a> 3.2 数组的创建</h3> <p>数组的创建有两个方式：<strong>字面量</strong> 和 <strong>构造函数</strong>。<span style="color:red;">数组里可以是任意值。</span></p> <ul><li><strong>字面量</strong> 创建使用 <code>[]</code> ，里面逗号分隔。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 里面也可以是函数和数组</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'文字'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
            <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>输出结果：</p> <img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/%E6%95%B0%E7%BB%84%E5%AD%97%E9%9D%A2%E9%87%8F%E8%BE%93%E5%87%BA.png" style="zoom:80%;"> <ul><li><strong>构造函数</strong> 创建有两种方式：
<ul><li>输入一个参数时，该参数会被当成数组的长度。</li> <li>输入多个参数时，这组参数会被当成数组的元素。</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 输入一个参数</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//输出 undefined undefined undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 输入多个参数</span>
<span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出 3 4 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_3-3-数组的访问"><a href="#_3-3-数组的访问" class="header-anchor">#</a> 3.3 数组的访问</h3> <p>若访问到数组的长度之外，不会报错只会返回 <code>undefined</code> 。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用字面量创建数组</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 输出undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-4-数组的长度"><a href="#_3-4-数组的长度" class="header-anchor">#</a> 3.4 数组的长度</h3> <p>对于非连续的数组，数组的长度是 <strong>最后一个元素的索引加一</strong>。而中间没有填写元素的位置用 <code>undefined</code> 填充。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 使用构造函数创建数组</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 插入入不连续元素</span>
arr1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

<span class="token comment">//输出 0 1 undefined undefined undefined 5</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>而 <code>Array.length</code> 可以修改。 <span id="heimu" title="你知道的太多了" style="background-color:black;"> 其他语言退出了群聊</span></p><style>#heimu:hover {color: white;} </style><p></p> <p>可以进行数组扩充和 <strong>数组截断</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// 使用构造函数创建数组</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
arr1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">// 数组扩充</span>
arr1<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">// 0 1 2 undefined undefined </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 数组截断</span>
arr1<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_3-5-数组的参数"><a href="#_3-5-数组的参数" class="header-anchor">#</a> 3.5 数组的参数</h3> <p>在调用了函数时，浏览器每次都会传递两个隐含的参数：</p> <ol><li>函数的上下文对象 <code>this</code> ；</li> <li>封装实参的 <strong>类数组对象</strong> 。</li></ol> <p>上下文对象 <code>this</code> 会有几种不同的情况的取值：</p> <ul><li>以 <strong>函数形式</strong> 调用时，<code>this</code> 是 <code>window</code> 对象；</li> <li>以 方法形式 调用时，<code>this</code> 是 <strong>调用方法的对象</strong>；</li> <li>以 <strong>构造函数</strong> 调用时， <code>this</code> 是 <strong>新建的那个对象</strong>；</li> <li>使用 call 和 apply 方法调用时，<code>this</code> 是参数中 <strong>传递的那个对象</strong>。</li></ul> <p>类数组对象 只有 <code>对象名.length</code> 的数组方法可以使用，其他的数组方法均不可使用。我们可以使用 <code>类数组对象[索引]</code> 来获取到对象里的值，就像访问数组一样。</p> <h3 id="_3-6-数组的遍历"><a href="#_3-6-数组的遍历" class="header-anchor">#</a> 3.6 数组的遍历</h3> <p>除了使用普通的 for 循环之外，可以使用另一个方法。</p> <ul><li>Array.prototype.forEach()</li></ul> <p><code>forEach()</code>  方法对数组的每个元素执行一次给定的函数。该函数为回调函数。</p> <div class="custom-block tip"><p class="custom-block-title">语法</p> <p><code>arr.forEach(callback( currentValue [, index [, array]]) [, thisArg])</code></p></div> <p><strong>参数：</strong></p> <ul><li>callback
为数组中每个元素执行的 <strong>函数</strong>，该函数接收 <strong>一至三</strong> 个参数：
<ul><li>currentValue
数组中的每一个元素。</li> <li>index 可选
当前元素的索引。</li> <li>array 可选
forEach() 方法正在操作的数组，即 arr。</li></ul></li> <li>thisArg 可选
可选参数。当执行回调函数 callback 时，用作 this 的值。</li></ul> <p><strong>示例：</strong></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><code>console.table()</code> 可以以表格形式输出数组。</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义了一个数组</span>
<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'文字'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
            <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 使用 foreach 遍历数组</span>
arr1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currebtValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;数组中索引为 &quot;</span><span class="token operator">+</span>index<span class="token operator">+</span><span class="token string">&quot; 的元素是 &quot;</span><span class="token operator">+</span>currebtValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 定义了一个只有一个元素的数组</span>
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currebtValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.table 使用表格输出数组</span>
    console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>输出结果如下：</p> <img src="https://raw.githubusercontent.com/hahg2000/SSMPic/main/foreach%E8%BE%93%E5%87%BA.png" style="zoom:80%;"> <h3 id="_3-6-数组的其他方法"><a href="#_3-6-数组的其他方法" class="header-anchor">#</a> 3.6 数组的其他方法</h3> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>concat()</code></td> <td>连接两个或更多的数组，并返回结果。</td></tr> <tr><td><code>join()</code></td> <td>把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</td></tr> <tr><td><code>pop()</code></td> <td>删除并返回数组的最后一个元素</td></tr> <tr><td><code>shift()</code></td> <td>删除并返回数组的第一个元素</td></tr> <tr><td><code>push()</code></td> <td>向数组的末尾添加一个或更多元素，并返回新的长度。</td></tr> <tr><td><code>unshift()</code></td> <td>向数组的开头添加一个或更多元素，并返回新的长度。</td></tr> <tr><td><code>reverse()</code></td> <td>颠倒数组中元素的顺序。</td></tr> <tr><td><code>sort()</code></td> <td>对数组的元素进行排序</td></tr> <tr><td><code>slice()</code></td> <td>从某个已有的数组返回选定的元素</td></tr> <tr><td><code>splice()</code></td> <td>删除元素，并向数组添加新元素。</td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021年7月15日星期四晚上7点06分</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/doStudy/前端JS/原生JS(中).html">
        原生JS(中)
      </a>
      →
    </span></p></div>  <!----></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.4e37dad2.js" defer></script><script src="/docs/assets/js/3.055be0a8.js" defer></script><script src="/docs/assets/js/2.d32c4d1a.js" defer></script><script src="/docs/assets/js/32.df541b37.js" defer></script><script src="/docs/assets/js/4.a96d5034.js" defer></script>
  </body>
</html>
