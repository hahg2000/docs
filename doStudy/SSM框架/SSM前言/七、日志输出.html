<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>七、日志输出 | hahg的简易博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/docs/assets/img/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <link rel="apple-touch-icon" href="/docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="hahg的简易博客">
    <meta name="author" content="vuepress搭建的hahg简易博客">
    <meta name="keywords" content="hahg">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.a4afb5bf.css" as="style"><link rel="preload" href="/docs/assets/js/app.4e37dad2.js" as="script"><link rel="preload" href="/docs/assets/js/3.055be0a8.js" as="script"><link rel="preload" href="/docs/assets/js/2.d32c4d1a.js" as="script"><link rel="preload" href="/docs/assets/js/18.9c6b6334.js" as="script"><link rel="preload" href="/docs/assets/js/4.a96d5034.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.2fb46730.js"><link rel="prefetch" href="/docs/assets/js/11.975c71ee.js"><link rel="prefetch" href="/docs/assets/js/12.059ae769.js"><link rel="prefetch" href="/docs/assets/js/13.649c1695.js"><link rel="prefetch" href="/docs/assets/js/14.6a8737fd.js"><link rel="prefetch" href="/docs/assets/js/15.0b8de0f8.js"><link rel="prefetch" href="/docs/assets/js/16.4410d102.js"><link rel="prefetch" href="/docs/assets/js/17.21542b2a.js"><link rel="prefetch" href="/docs/assets/js/19.3805f0fd.js"><link rel="prefetch" href="/docs/assets/js/20.e676d273.js"><link rel="prefetch" href="/docs/assets/js/21.fbdf7495.js"><link rel="prefetch" href="/docs/assets/js/22.9570e257.js"><link rel="prefetch" href="/docs/assets/js/23.4be7db77.js"><link rel="prefetch" href="/docs/assets/js/24.e5dd610a.js"><link rel="prefetch" href="/docs/assets/js/25.b87936e6.js"><link rel="prefetch" href="/docs/assets/js/26.9478d521.js"><link rel="prefetch" href="/docs/assets/js/27.8fb3b881.js"><link rel="prefetch" href="/docs/assets/js/28.70255cc2.js"><link rel="prefetch" href="/docs/assets/js/29.882947a3.js"><link rel="prefetch" href="/docs/assets/js/30.7ae5904c.js"><link rel="prefetch" href="/docs/assets/js/31.4b49afd0.js"><link rel="prefetch" href="/docs/assets/js/32.df541b37.js"><link rel="prefetch" href="/docs/assets/js/33.ddaed3de.js"><link rel="prefetch" href="/docs/assets/js/34.5e80203b.js"><link rel="prefetch" href="/docs/assets/js/35.0be63530.js"><link rel="prefetch" href="/docs/assets/js/36.8273634e.js"><link rel="prefetch" href="/docs/assets/js/37.37c9b278.js"><link rel="prefetch" href="/docs/assets/js/38.a9fcef0a.js"><link rel="prefetch" href="/docs/assets/js/5.79d58c64.js"><link rel="prefetch" href="/docs/assets/js/6.dc517ec6.js"><link rel="prefetch" href="/docs/assets/js/7.4ea12e98.js"><link rel="prefetch" href="/docs/assets/js/8.9bc20865.js"><link rel="prefetch" href="/docs/assets/js/9.366e5dea.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.a4afb5bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/assets/img/logo.png" alt="hahg的简易博客" class="logo"> <span class="site-name can-hide">hahg的简易博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/docs/tags/" class="nav-link">
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践学习" class="dropdown-title"><span class="title">实践学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践学习" class="mobile-dropdown-title"><span class="title">实践学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SSM框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SSM前言/一、SSM框架前言-系统架构.html" class="nav-link">
  SSM前言
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/MyBatis3/一、MyBatis入门.html" class="nav-link">
  MyBatis3
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/Spring4/一、Spring概述.html" class="nav-link">
  Spring4
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SpringMVC/一、SpringMVC概述.html" class="nav-link">
  SpringMVC
</a></li></ul></li><li class="dropdown-item"><h4>
          前端JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/前端JS/原生JS.html" class="nav-link">
  原生JS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习工具" class="dropdown-title"><span class="title">学习工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习工具" class="mobile-dropdown-title"><span class="title">学习工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Markdown/Markdown常用指令.html" class="nav-link">
  Markdown笔记
</a></li><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Vim/Vim.html" class="nav-link">
  Vim笔记
</a></li></ul></div></div><div class="nav-item"><a href="/docs/about/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/docs/tags/" class="nav-link">
  标签分类
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践学习" class="dropdown-title"><span class="title">实践学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践学习" class="mobile-dropdown-title"><span class="title">实践学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          SSM框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SSM前言/一、SSM框架前言-系统架构.html" class="nav-link">
  SSM前言
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/MyBatis3/一、MyBatis入门.html" class="nav-link">
  MyBatis3
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/Spring4/一、Spring概述.html" class="nav-link">
  Spring4
</a></li><li class="dropdown-subitem"><a href="/docs/doStudy/SSM框架/SpringMVC/一、SpringMVC概述.html" class="nav-link">
  SpringMVC
</a></li></ul></li><li class="dropdown-item"><h4>
          前端JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/docs/doStudy/前端JS/原生JS.html" class="nav-link">
  原生JS
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习工具" class="dropdown-title"><span class="title">学习工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="学习工具" class="mobile-dropdown-title"><span class="title">学习工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Markdown/Markdown常用指令.html" class="nav-link">
  Markdown笔记
</a></li><li class="dropdown-item"><!----> <a href="/docs/toolDoc/Vim/Vim.html" class="nav-link">
  Vim笔记
</a></li></ul></div></div><div class="nav-item"><a href="/docs/about/about.html" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="https://www.vuepress.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>SSM前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/doStudy/SSM框架/SSM前言/一、SSM框架前言-系统架构.html" class="sidebar-link">一、SSM前言-系统架构</a></li><li><a href="/docs/doStudy/SSM框架/SSM前言/三、SSM框架前言-代理模式.html" class="sidebar-link">三、SSM前言——代理模式</a></li><li><a href="/docs/doStudy/SSM框架/SSM前言/四、SSM框架前言-适配器模式.html" class="sidebar-link">四、SSM框架前言-适配器模式</a></li><li><a href="/docs/doStudy/SSM框架/SSM前言/五、SSM框架前言-模板方法设计模式.html" class="sidebar-link">五、SSM框架前言-模板方法设计模式</a></li><li><a href="/docs/doStudy/SSM框架/SSM前言/六、JUnit测试.html" class="sidebar-link">六、JUnit测试</a></li><li><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html" class="active sidebar-link">七、日志输出</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-1-log4j-基础" class="sidebar-link">7.1 Log4j 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-1-1-log4j-的下载" class="sidebar-link">7.1.1 Log4j 的下载</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-1-2-log4j-的使用" class="sidebar-link">7.1.2 Log4j 的使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-2-log4j2-基础" class="sidebar-link">7.2 Log4j2 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-2-1-log4j2-的下载" class="sidebar-link">7.2.1 Log4j2 的下载</a></li><li class="sidebar-sub-header"><a href="/docs/doStudy/SSM框架/SSM前言/七、日志输出.html#_7-2-2-log4j2-的使用" class="sidebar-link">7.2.2 Log4j2 的使用</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <!----> <div class="theme-default-content content__default"><h1 id="七、日志输出"><a href="#七、日志输出" class="header-anchor">#</a> 七、日志输出</h1> <p>​	一个好的日志记录技术是可以提供不同的 <strong>输出种类</strong> 和 <strong>选项</strong> 供程序员在不同场合下使用。</p> <p>​	日志信息根据用途与记录内容的不同，分为<strong>调试日志</strong>、<strong>运行日志</strong>和<strong>日常日志</strong>。</p> <p>​	日志记录的技术很多，如 JDK 的 logger 技术，apache 的 log4j、log4j2 技术等。</p> <h2 id="_7-1-log4j-基础"><a href="#_7-1-log4j-基础" class="header-anchor">#</a> 7.1 Log4j 基础</h2> <h3 id="_7-1-1-log4j-的下载"><a href="#_7-1-1-log4j-的下载" class="header-anchor">#</a> 7.1.1 Log4j 的下载</h3> <p>log4j 1.2 下载链接 [ http://logging.apache.org/log4j/1.2/download.html ]</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <blockquote><p>End of Life
On August 5, 2015 the Logging Services Project Management Committee announced that Log4j 1.x had reached end of life. For complete text of the announcement please see the Apache Blog. Users of Log4j 1 are recommended to upgrade to Apache Log4j 2</p></blockquote> <p>在2015年的8月5日，Log4j 已经不再更新，Log4j1 的使用者推荐更新到 Log4j2。</p></div> <h3 id="_7-1-2-log4j-的使用"><a href="#_7-1-2-log4j-的使用" class="header-anchor">#</a> 7.1.2 Log4j 的使用</h3> <h4 id="_1-导入-jar-包"><a href="#_1-导入-jar-包" class="header-anchor">#</a> （1）导入 Jar 包</h4> <h4 id="_2-导入配置文件"><a href="#_2-导入配置文件" class="header-anchor">#</a> （2）导入配置文件</h4> <p>Log4j 的配置文件存放在 classpath 下 ，可以在 src 包下新建 <strong>log4j.properties</strong> 文件，输入以下代码</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">##define an appender named console</span>
<span class="token attr-name">log4j.appender.console</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token comment">#The Target value is System.out or System.err</span>
<span class="token attr-name">log4j.appender.console.Target</span><span class="token punctuation">=</span><span class="token attr-value">System.out</span>
<span class="token comment">#set the layout type of the apperder</span>
<span class="token attr-name">log4j.appender.console.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token comment">#set the layout format pattern</span>
<span class="token attr-name">log4j.appender.console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%-5p][%d{yyyy-MM-dd HH:mm:ss}] %c %L %m%n</span>

<span class="token comment">##define an appender named file</span>
<span class="token attr-name">log4j.appender.file</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.FileAppender</span>
<span class="token comment">#define the file path and name</span>
<span class="token attr-name">log4j.appender.file.File</span><span class="token punctuation">=</span><span class="token attr-value">d:/logfile.txt</span>
<span class="token comment">#set the layout type of the apperder</span>
<span class="token attr-name">log4j.appender.file.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token comment">#set the layout format pattern</span>
<span class="token attr-name">log4j.appender.file.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%-5p][%d{yyyy-MM-dd HH:mm:ss}] %c %L %m%n</span>

<span class="token comment">##define an appender named rollfile</span>
<span class="token attr-name">log4j.appender.rollfile</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.RollingFileAppender</span>
<span class="token comment">#define the file path and name</span>
<span class="token attr-name">log4j.appender.rollfile.File</span><span class="token punctuation">=</span><span class="token attr-value">d:/logrollfile.txt</span>
<span class="token comment">#set the log's size</span>
<span class="token attr-name">log4j.appender.rollfile.MaxFileSize</span><span class="token punctuation">=</span><span class="token attr-value">10KB</span>
<span class="token comment">#set the layout type of the apperder</span>
<span class="token attr-name">log4j.appender.rollfile.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token comment">#set the layout format pattern</span>
<span class="token attr-name">log4j.appender.rollfile.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%-5p][%d{yyyy-MM-dd HH:mm:ss}] %c %L %m%n</span>

<span class="token comment">##define a logger</span>
<span class="token comment">#log4j.rootLogger=debug,console,file,rollfile</span>
<span class="token attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token attr-value">debug,console</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>下面来简单解释下代码</p> <ul><li>第 4 行，为系统在控制台输出的类型，若是 System.out 则输出语句的颜色为黑色，是 System.err 则为红色。</li> <li>第 8 行，为系统输出语句的格式
<ul><li>&quot; - &quot; 为左对齐，” + “ 为右对齐；” -5 “ 代表左对齐，不足 5 个字符的单词的末尾补充空格；</li> <li>[%d{yyyy-MM-dd HH:mm:ss}]：为日志输出时间以指定格式输出；</li> <li>%c：输出日志的类名；%L：输出日志的代码行号；%m：自定义的输出信息；%n：换行；</li></ul></li> <li>第 13 行，为日志在文件输出的文件名；</li> <li>第 22 行，为日志在滚动文件输出的文件名；</li> <li>第 24 行，滚动文件的最大大小，超过后会再新建一个滚动文件；</li> <li>第 32 行，设置日志输出的类型和优先级。输出类型可以选择控制台、文件和滚动文件；优先级按高与低排序为 Fatal 、Error 、Warn 、Info 、Debug 、All，还有 Off 关闭。低优先级的可以显示高优先级，但高优先级不能显示低优先级，所以优先级越高，显示的信息越少。</li></ul> <h2 id="_7-2-log4j2-基础"><a href="#_7-2-log4j2-基础" class="header-anchor">#</a> 7.2 Log4j2 基础</h2> <h3 id="_7-2-1-log4j2-的下载"><a href="#_7-2-1-log4j2-的下载" class="header-anchor">#</a> 7.2.1 Log4j2 的下载</h3> <p>Log4j2 的下载地址：[ http://logging.apache.org/log4j/2.x/download.html ]</p> <h3 id="_7-2-2-log4j2-的使用"><a href="#_7-2-2-log4j2-的使用" class="header-anchor">#</a> 7.2.2 Log4j2 的使用</h3> <p>​	在下载好的安装包中，导入这两个 jar 包【 log4j-api-2.14.0.jar 】 和 【 log4j-core-2.14.0.jar 】</p> <p>​	在 Log4j2 的配置文件是 <strong>xml</strong> 文件，不再支持 properties 文件。</p> <p>​	Log4j2 的配置文件存放在 classpath 下， 默认命名为 “ log4j2.xml ” ，然后输入以下代码，若没有设置 log4j2.xml ，则系统会使用默认的日志配置；只会在控制台输出 error 级别的信息。</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>OFF<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appenders</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Console</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myConsole<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SYSTEM_OUT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Console</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myLogFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>log/test.log<span class="token punctuation">&quot;</span></span> <span class="token attr-name">append</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RollingFile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myRollingFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logs/app.log<span class="token punctuation">&quot;</span></span>
                     <span class="token attr-name">filePattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeBasedTriggeringPolicy</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1KB<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RollingFile</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appenders</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loggers</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- 
		&lt;logger name=&quot;全限定类名或接口名&quot; level=&quot;info&quot;&gt;
			&lt;appender-ref ref=&quot;myConsole&quot; /&gt;
		&lt;/logger&gt;
		 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trace<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myConsole<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
			<span class="token comment">&lt;!-- &lt;appender-ref ref=&quot;myLogFile&quot; /&gt;
			&lt;appender-ref ref=&quot;myRollingFile&quot; /&gt; --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loggers</span><span class="token punctuation">&gt;</span></span>
	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>配置文件说明：</p> <ol><li>&lt;configuration//&gt; 标签：该标签的 status 属性用于设置 Log4j2 <strong>自身运行</strong> 的日志显示级别，一般为 OFF ，不显示，当然也可以设置为 ERROR 、DEBUG 等其他级别。</li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">status</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>OFF<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>//&gt; 标签：该标签的 target 属性用于设置输出的 **目标形式** ，其值一般为：SYSTEM_OUT 或 SYSTEM_ERR。
</li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Console</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myConsole<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SYSTEM_OUT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Console</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>//&gt; 标签： fileName 属性用于设置文件的保存路径及文件名。下面的代码的意思是，日志的文件名为 test.log，并将其存放在当前项目的根目录下的 log 子目录里；append 属性用于设置是否以追加方式将日志写入指定文件。
</li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myLogFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>log/test.log<span class="token punctuation">&quot;</span></span> <span class="token attr-name">append</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>//&gt; 标签：SizeBasedTriggeringPolicy 子标签用于指定每一个日志文件最大文件大小，超过后会再新建一个日志文件；filePattern 指定新创建的日志文件的文件名，可以指定为压缩文件，如下所示。
</li></ol> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RollingFile</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myRollingFile<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fileName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logs/app.log<span class="token punctuation">&quot;</span></span>
                     <span class="token attr-name">filePattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PatternLayout</span> <span class="token attr-name">pattern</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[%-5p][%d{yyyy-MM-dd HH:mm:ss}] [%c %L] %m%n<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SizeBasedTriggeringPolicy</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1KB<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RollingFile</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="5"><li>&lt;loggers//&gt; 标签：用于指定所使用的日志记录器，及显示的级别。</li></ol> <ul><li>子标签 &lt;root//&gt; 的属性 level 用于指定显示级别；</li> <li>而日志记录器是通过 &lt;root//&gt; 标签的子标签 &lt;appender-ref//&gt; 标签来引用 &lt;appenders//&gt; 中定义好的记录器；</li> <li>注意的是，只要 &lt;appenders//&gt; 中定义了 &lt;File//&gt; 、&lt;RollingFile//&gt; ，且在其中指定了日志存放的目录，那么这些目录就会 <strong>自动创建</strong> 。无论在 &lt;loggers//&gt; 的 &lt;root//&gt; 中是否表示使用它们。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021年2月11日星期四上午10点48分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/doStudy/SSM框架/SSM前言/六、JUnit测试.html" class="prev">
        六、JUnit测试
      </a></span> <!----></p></div>  <!----></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.4e37dad2.js" defer></script><script src="/docs/assets/js/3.055be0a8.js" defer></script><script src="/docs/assets/js/2.d32c4d1a.js" defer></script><script src="/docs/assets/js/18.9c6b6334.js" defer></script><script src="/docs/assets/js/4.a96d5034.js" defer></script>
  </body>
</html>
